
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Upgrading from TeamCity 5.x to 6.0 - Adventures of a wannabe geek!</title>
  <meta name="author" content="Paul Stack (@stack72)">

  
  <meta name="description" content="I have recently upgraded my TeamCity installation 5.1 to 6.0 and found when I was upgrading that the documentation supplied by JetBrains was very &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.paulstack.co.uk/blog/2010/12/14/upgrading-from-teamcity-5x-to-60">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Adventures of a wannabe geek!" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-13083957-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Adventures of a wannabe geek!</a></h1>
  
    <h2>Ranting within</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.paulstack.co.uk" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about-me">About Me</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/contact">Contact Details</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Upgrading From TeamCity 5.x to 6.0</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-14T00:00:00+00:00" pubdate data-updated="true">Dec 14<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I have recently upgraded my <a href="http://www.jetbrains.com/teamcity/" target="_blank">TeamCity</a> installation 5.1 to 6.0 and found when I was upgrading that the <a href="http://confluence.jetbrains.net/display/TCD6/Upgrade" target="_blank">documentation</a> supplied by JetBrains was very sketchy. After seeing some peoples upgrades go a bit wrong, I thought a blog post on how to do this would help.</p>  <p><strong><u>This post assumes that you have 5.x version of TeamCity installed. The version I specifically have is 5.1.5</u></strong></p>  <p>1. Download the <a href="http://download.jetbrains.com/teamcity/TeamCity-6.0.exe" target="_blank">latest version</a> of TeamCity windows installer</p>  <p>2. Log into your TeamCity dashboard as an administrator. Click on ‘Administration’</p>  <p><a href="http://paulstack.co.uk/blog/images/image.png"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="image" border="0" alt="image" src="http://paulstack.co.uk/blog/images/image_thumb.png" width="383" height="156" /></a> </p>  <p>3. In the administration screen click on ‘Backup Data’ on the right hand column</p>  <p><a href="http://paulstack.co.uk/blog/images/image_1.png"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="image" border="0" alt="image" src="http://paulstack.co.uk/blog/images/image_thumb_1.png" width="213" height="268" /></a></p>  <p>4. We now need to actually backup our data. In order to do this we will, by default, be in the ‘Settings’ Tab. In this tab you will see where TeamCity wants to backup the data by default. You will also be given the options of what to backup. The settings I use are as follows:</p>  <p><a href="http://paulstack.co.uk/blog/images/image_2.png"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="image" border="0" alt="image" src="http://paulstack.co.uk/blog/images/image_thumb_2.png" width="318" height="153" /></a> </p>  <p>Once I save the settings I can then go to ‘Backup Process’ and click on ‘Start Backup’. This gives me something that looks like this</p>  <p><a href="http://paulstack.co.uk/blog/images/image_3.png"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="image" border="0" alt="image" src="http://paulstack.co.uk/blog/images/image_thumb_3.png" width="446" height="280" /></a> </p>  <p align="left">(Please ignore the numbers as I am running an empty version of TeamCity for this demonstration)</p>  <p align="left">5. Go to the location where point 1 downloaded TeamCity to and run TeamCity.exe</p>  <p align="left">6. Follow the standard installation instructions and make sure you:</p>  <ul>   <li>     <div align="left">install to the same directory location as before (C:\Program Files (x86)\JetBrains\TeamCity for me)</div>   </li>    <li>     <div align="left">uninstall the previous version when asked</div>   </li>    <li>     <div align="left">I tend to only uninstall the build agents log files</div>   </li>    <li>     <div align="left">use the same buildserver directory as before (C:\Program Files (x86)\JetBrains\TeamCity\BuildServer for me)</div>   </li> </ul>  <p align="left">7. Start the TeamCity dashboard after the installer finishes. Gives us this page:</p>  <p align="left"><a href="http://paulstack.co.uk/blog/images/image_4.png"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="image" border="0" alt="image" src="http://paulstack.co.uk/blog/images/image_thumb_4.png" width="497" height="185" /></a> </p>  <p align="left">Go to your installation directory (C:\Program Files (x86)\JetBrains\TeamCity\Logs\) then find <strong></strong></p>  <p><strong>teamcity-server.log</strong></p>  <p align="left">8. Open this .log file in notepad or a similar text editor and scroll right to the end and find </p>  <p><strong>Administrator login is required from web UI using authentication token: &lt;token here&gt;</strong></p>  <p>9. Take the token and paste it into the web browser and ‘Confirm’</p>  <p>10. You will be presented with an upgrade screen which gives details of the product and installation paths. If you are happy then click ‘Upgrade’</p>  <p>11. The upgrade will kick into action as follows:</p>  <p><a href="http://paulstack.co.uk/blog/images/image_5.png"><img style="border-right-width: 0px; display: block; float: none; border-top-width: 0px; border-bottom-width: 0px; margin-left: auto; border-left-width: 0px; margin-right: auto" title="image" border="0" alt="image" src="http://paulstack.co.uk/blog/images/image_thumb_5.png" width="244" height="85" /></a></p>  <p>When the upgrade is done you will be shown the login screen. Login as an administrator and make sure you can see all your projects, some history and some changes for some projects</p>  <p>This is a very short process as JetBrains has thankfully made it easy. Hopefully this guide will help</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Paul Stack (@stack72)</span></span>

      








  


<time datetime="2010-12-14T00:00:00+00:00" pubdate data-updated="true">Dec 14<span>th</span>, 2010</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://www.paulstack.co.uk/blog/2010/12/14/upgrading-from-teamcity-5x-to-60/" data-via="" data-counturl="http://www.paulstack.co.uk/blog/2010/12/14/upgrading-from-teamcity-5x-to-60/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2010/12/14/macosx-theme-for-win7-laptop/" title="Previous Post: MacOSX Theme for Win7 Laptop">&laquo; MacOSX Theme for Win7 Laptop</a>
      
      
        <a class="basic-alignment right" href="/blog/2010/12/22/visual-studio-2010-bug/" title="Next Post: Visual Studio 2010 Bug">Visual Studio 2010 Bug &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
<h1>Follow me on Twitter</h1>
<a href="https://twitter.com/stack72" class="twitter-follow-button" data-show-count="false" data-size="large" data-dnt="true">Follow @stack72</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</section>


<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/01/06/building-a-riak-cluster-in-aws-with-packer-and-terraform/">Building a Riak Cluster in AWS With Packer and Terraform</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/04/replacing-the-nodes-in-an-aws-elasticsearch-cluster/">Replacing the Nodes in an AWS ElasticSearch Cluster</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/03/deploying-kibana-using-nginx-as-an-ssl-proxy/">Deploying Kibana Using Nginx as an SSL Proxy</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/02/building-an-elasticsearch-cluster-in-aws-with-packer-and-terraform/">Building an ElasticSearch Cluster in AWS With Packer and Terraform</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/30/autoscaling-group-notifications-with-terraform-and-aws-lambda/">Autoscaling Group Notifications With Terraform and AWS Lambda</a>
      </li>
    
  </ul>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Paul Stack (@stack72) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
