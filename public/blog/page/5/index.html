
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Adventures of a wannabe geek!</title>
  <meta name="author" content="Paul Stack (@stack72)">

  
  <meta name="description" content="Thanks to Skillsmatter, I have been given some tickets to give away to the Progressive.Net tutorials at Skillsmatter, London between September 5th &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://paulstack.co.uk/blog/page/5">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Adventures of a wannabe geek!" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-13083957-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Adventures of a wannabe geek!</a></h1>
  
    <h2>Ranting within</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:paulstack.co.uk" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/about-me">About Me</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/contact">Contact Details</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/09/win-a-ticket-to-progressivenet-tutorials/">Win a Ticket to Progressive.Net Tutorials</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-09T00:00:00+01:00" pubdate data-updated="true">Aug 9<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Thanks to <a href="http://www.skillsmatter.com" target="_blank">Skillsmatter</a>, I have been given some tickets to give away to the Progressive.Net tutorials at Skillsmatter, London between September 5th and 7th.</p>
<p>This is an event I have very fortunate to be presenting at. The event schedule can be found on the <a href="http://skillsmatter.com/event/open-source-dot-net/progressive-dot-net-tutorials-2011" target="_blank">event page</a>.</p>
<p>In order to be in for a chance to win a ticket, you will need to send me a mail answering the following question:</p>
<p><strong>Why are you interested in going to the Progressive.Net Tutorials and what do you hope to learn from the event?</strong></p>
<p>*COMPETITION IS NOW CLOSED!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/04/feature-switching-a-better-way-to-collaborate/">Feature Switching: A Better Way to Collaborate</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-04T00:00:00+01:00" pubdate data-updated="true">Aug 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of the biggest pitfalls on working in teams where branches are created to work on features is that we are not continually checking in to the head revision / trunk. This means our work is not constantly being integrated. The feature may be small and we can integrate back in a day or 2 but there are a lot of instances where the feature is longer (2 &ndash; 3 months). If this is the case we need to be continually merging and then re-branching. This means we are going through merge issues more often than required.</p>
<p>What if I was to tell you there was a much better way? I bet you would be a little sceptical at first but then see the benefits of it. When developing features, we can <strong>all</strong> work from the trunk by feature switching. Feature switching (FS)is the use of a configuration system, db or config file, where we can turn a feature on or off. This will help us with canary releasing (releasing features to just a small group of users) &amp; A/B testing. We really start to see how useful FS is when we look at moving towards a continuous delivery workflow.</p>
<p>We can write &lsquo;feature&rsquo; code to the trunk and enable a switch to turn it off and then push to our head revision. We can deploy our system as the code we have written will not be parsed or shown (if it is front end changes). The danger is that we can forget to disable the feature. I usually setup my web.config transformations to take care of that issue.</p>
<p>FS can be temporary, while a small feature is being built. IF this is the case when the feature is complete and signed off then we must remove all instances of the switching code and the settings to go with them. FS can also be long term, e.g. being able to disable the registrations to an event on a website. It is important to keep temporary and permanent switches separate for clarity.</p>
<script type="text/javascript" src="https://gist.github.com/3eebb9c16ac0ec95b45d.js"></script>
<p>This code shows that on a simple request to the register action, then a view will be returned. What if we wanted to start tinkering with the view? What if we wanted to start adding new fields to the registration form but not show it until the feature is finished? Well I&#8217;m sure some would say create a cpy of the view and work from that - but there are no ways to get to that view as it is not returned from a request.</p>
<script type="text/javascript" src="https://gist.github.com/ab16f96600a0e5502612.js"></script>
<p>This is the same action method with some further logic added to it. This effectively checked to see if a feature is actually enabled and if so the new version of the View is rendered. Otherwise the old version of the view is rendered. This is a very very simple demonstration of feature switching. I would try not to do it this way &ndash; &lsquo;newing up&rsquo; the FeatureManager inside the action method. I&rsquo;d use Dependency Injection to inject an instance into the constructor for loosely coupled code.</p>
<p>What if I wanted to do this as part of a View and not have to modify the code at all. We can look at the following example:</p>
<script type="text/javascript" src="https://gist.github.com/b2648207d753b62e5a0a.js"></script>
<p>This example says that if the feature is enabled then show the new panel. This uses a Html Helper method to hide the logic of the switch. All I have to do is to pass the name of the feature to the helper. The helper code is as follows:</p>
<script type="text/javascript" src="https://gist.github.com/91232460954b4a787356.js"></script>
<p>Pretty simple and straightforward stuff. Using this type of approach will mean we can all work effectively on the head revision which will save us time (we shouldn&#8217;t have problem merges). This will als let the CI system take care of integration and spotting integration issues earlier. It will also mean that when we check into the trunk our application <strong>should</strong> be in a deliverable state. There are much more complex ways to feature switch. We will cover those in a later post.</p>
<p>I have taken a copy of the ASP.NET MVC MusicStore and added some feature switches to it. This is available on my <a href="https://github.com/stack72/SimpleFeatureSwitchingDemo">github repository</a>. Please feel free to take a copy and have a play with the switches. The code there is what is contained in this post</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/08/03/choosing-the-correct-ci-tool/">Choosing the Correct CI Tool</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-08-03T00:00:00+01:00" pubdate data-updated="true">Aug 3<span>rd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This is the 3rd post in a series &lsquo;<a href="http://paulstack.co.uk/blog/post/How-to-get-started-with-CI.aspx" target="_blank">How to get started with CI&rsquo;</a></p>
<p>Previously, we talked about choosing the correct infrastructure for your CI system. We will now talk about CI tools themselves. There are lots of CI tools out there. Many more than I know about and have listed here. Some tools are good and some, not to my liking.</p>
<p><a href="http://paulstack.co.uk/blog/images/ci-tools.gif"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border: 0px;" title="ci-tools" src="http://paulstack.co.uk/blog/images/ci-tools_thumb.gif" alt="ci-tools" width="557" height="207" border="0" /></a></p>
<p>If you have used a CI tool before then you may find yourself comfortable with that, if that is the case then I&rsquo;d love to hear about your experiences. Alternatively, if you are new to these tools I have included a few things to consider when choosing a tool:</p>
<h4>1. Technology</h4>
<p>Don&rsquo;t choose a CI tool that is not compatible with your environment e.g. if you run linux based servers then you would not choose a windows based tool unless you had the ability to create a windows VM. Before choosing a tool, make sure to investigate the requirements needed by it.</p>
<h4>2. Cost</h4>
<p>If you have little or no budget then you will be limited to some of the tools that are either free or have community versions. Check the license agreement for terms and conditions about their uses &ndash; its best to know what is expected before you start using it.</p>
<h4>3. Support &amp;/or Community</h4>
<p>Choose a tool that has a good user base or support forums. If you choose otherwise then it may be difficult (if at all) to get help if things do not go as expected or if there are issues with the software. A more established and well known tool means there is a greater probability of someone having a similar issue to you and thus a resolution may be more readily available.</p>
<h4>4. Ease of Use &amp; Maintainability</h4>
<p>If you choose a tool that is difficult to use, then it will be difficult to adopt into your organisation. For example. CCNET, hugely powerful tool (and one I started with) is configured mostly via XML files (special editors may be available) and build scripts. There is no easy UI to make things smoother. In my opinion, unless you like creating scripts in notepad (or your favourite text editor) then it may not be the one for you. Remember, you probably won&rsquo;t be at a company forever, so think of the guy that has to pick up this system after you leave &ndash; unless you have a simple system, it <strong>may</strong> get neglected or trashed completely.</p>
<h4>5. Choose something &lsquo;Cool&rsquo;</h4>
<p>I personally love new shiny tools. In fact, if there is a developer out there who doesn&rsquo;t then I&rsquo;d love to speak with them to find out why. I enjoy testing, evaluating and writing about new tools. So when a new CI system appears on my radar, I give it a go. If you find a tool that keeps you interested then you will enjoy using it.</p>
<p>It is very important for your tool to not be a hassle to use, configure or maintain. If you have to reason for &ldquo;CI&rdquo; maintenance that may take hours out of your week then the team is less likely to buy into that situation. My top tip is to use a scoring matrix and score each of the sections above 1 &ndash; 10 (1 being worst, 10 being best) and then get a shortlist of the tools that you like. After you have got a shortlist of say 3 tools, then <strong>trial them.</strong> It is very important to trial them, they may look great on paper but they may not work out how you imagine.</p>
<p>This article talks about the points worth considering when choosing a CI tool. It you have been through this process and feel there are other points worth considering then please do comment and I will add them to the list. If you feel that a particular CI tool was missed from this article then please do add that as well with a link to its website.</p>
<p>The next post in this series will talk about how to implement your first project into a CI tool.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/27/progressive-dotnet-at-skillsmatter/">Progressive .Net at SkillsMatter</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-27T00:00:00+01:00" pubdate data-updated="true">Jul 27<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Between September 5th &ndash; September 7th, <a href="http://skillsmatter.com" target="_blank">Skillsmatter</a> will be hosting the <a href="http://skillsmatter.com/event/open-source-dot-net/progressive-dot-net-tutorials-2011/js-2381" target="_blank">Progressive .NET Tutorials</a>. The tutorials comprise of twelve 4-hour hands-on Workshops which provide a deep dive into advanced topics for Agile .NET developers. The Tutorials are in their 5th year and aim to provide a liberal dash of Agile and Software Craftsmanship skills as well as advanced .NET Topics. These are in-depth, hands-on tutorials run by real experts who are there to be quizzed, questioned and interrogated for three days of intensive learning!</p>
<p>I am extremely pleased and beyond excited to be able to be part of this event. I will be talking, as well as demonstrating, the journey from regular CI practices to the new goal for a lot of people, Continuous Delivery. The event has some fantastic speakers and sessions:</p>
<p><em>GHERKIN ACCEPTANCE CRITERIA, Christian Hassa &amp; Gaspar Nagy <br />AUTOMATING GHERKIN ACCEPTANCE CRITERIA, Christian Hassa &amp; Gaspar Nag <br /> <br />SOLVING THE PACKAGING PUZZLE, Ian Cooper &amp; Sebastien Lambla <br />FRONT-END TIPS FOR BACK-END DEVS, Dylan Beattie <br /> <br />LOAD TESTING FOR DEVELOPERS, Simon Brown <br />CI TO CONTINUOUS DELIVERY, Paul Stack <br /> <br />TEST-DRIVEN DEVELOPMENT IN JAVASCRIPT, Damjan Vujnovic <br />ADVANCED WEBSHARPER TUTORIAL, Adam Granicz <br /> <br />RESTFUL WEB SERVICE DEVELOPMENT IN .NET, Ian Robinson <br />INTRO TO NANCY &amp; SIMPLE.DATA, Mark Rendle &amp; Steven Robbins <br /> <br />ASYNC METHODS IN C#5, Jon Skeet</em></p>
<p>If you are interested in any of these topics then I suggest you book yourself a ticket. This is a chance to speak with some well known names in their areas. I hope my session will be well enjoyed and that people actually learn a few things :) For full details of the event, and to register, go to the <a href="http://skillsmatter.com/event/open-source-dot-net/progressive-dot-net-tutorials-2011/js-2381" target="_blank">event page</a> on the skillsmatter website.&nbsp;</p>
<p>UPDATE: Thanks to SkillsMatter I am able to give away a &pound;50 discount for the event to readers of my blog:</p>
<p><a href="http://skillsmatter.com/event/open-source-dot-net/progressive-dot-net-tutorials-2011/js-2381">Find more information about this years Progressive .NET Tutorials here</a>. If you would like to <a href="https://skillsmatter.com/register-online/conf/849/js-2381">register</a>, don&#8217;t forget to <a href="http://skillsmatter.com/event/open-source-dot-net/progressive-dot-net-tutorials-2011/js-2381">claim your &pound;50 discount of the ticket price, by quoting Promocode: PROGNET50 when registering</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/18/development-key-skills-or-lack-of-them/">Development Key Skills (or Lack of Them!)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-18T00:00:00+01:00" pubdate data-updated="true">Jul 18<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post is highly subjective and denotes the skills that I think a developer should have in his/her tool belt by default. I&rsquo;d love to see this post grow by people adding their own ideas to it from their own experiences.</p>
<h4>1. Good VCS Skills</h4>
<p>I have added this as number 1 because I feel that at an interview we are not usually asked to demonstrate our knowledge of a version control system (VCS). In my opinion, we <strong>should</strong> have an understanding of why we use the system and basic practices around this system. Recently, I have discovered a developer who doesn&rsquo;t use source control properly. The developer checks into VCS maybe once every 10 days or so. This developer was puzzled as to why I would challenge him on this.</p>
<p>As developers we should be checking our code into source control at least once as day. Not the use of the broad term &lsquo;source control&rsquo; here as this article is not going to talk about good VCS practices as it is a very hot topic and justice cannot be done to that topic in just a few lines. We need to make sure that we are able to revert our local changes as quickly as we can on a main repo so a good VCS habit is needed for that.</p>
<h4>2. Ability to write &lsquo;expressive&rsquo; code</h4>
<p>I&rsquo;m quite fortunate to have read the book <a href="http://www.amazon.co.uk/Clean-Code-Handbook-Software-Craftsmanship/dp/0132350882" target="_blank">Clean Code</a> by <a href="http://twitter.com/unclebobmartin" target="_blank">Robert C. Martin</a> early on in my development career. This book changed the way I worked and made me slightly opinionated. Every piece of code I write now is reflected upon as to how it can be refactored, named better, more succinct or reused elsewhere.</p>
<p>Unfortunately, there are a lot of developers who don&rsquo;t care about the code they write. They will copy and paste classes and methods, perhaps only changing 1 line (if any). This makes maintainability very tough as there are multiple instances of code to change. Developer can sometimes not use expressive names in their code. Others write very long methods that are difficult to follow. The list goes on of &lsquo;code smells&rsquo;.</p>
<p>I take a great deal of pride in what I do and it frustrates me beyond all belief when I look at code and know the developer hasn&rsquo;t put a lot of effort or thought into. The lack of a key skills can very fast turn a nice codebase into a monolithic, legacy application.</p>
<h4>3. The ability to care</h4>
<p>As software professionals, generally, we get paid well for what we do. To me, coding is a hobby and I think I am very privileged to be able to be paid for a hobby. In return for my salary, the least my employer deserves is my full care and attention to my work. IT should be as good as it can be. We wouldn&rsquo;t accept second best on a football pitch so why would we accept second best in the office?</p>
<blockquote>
<p><em>Do not onto others what you would wish not them do onto you.</em></p>
<h4>4. The ability to use basic tools</h4>
<p>On our CV, we list what tools we are proficient in using. As a developer who writes in C# it may include Visual Studio. As we have listed this on our CV, we should really be able to use it. When it comes to an interview saying you have not used a tool that is listed on your CV would look very bad.</p>
<p>Falsities (I won&rsquo;t call it lying) can cause concerns amongst the team. These concerns can harm the trust levels in the team and we cannot afford to let issues like this harm the balance of the team.</p>
<h4>5. A willingness to grow and learn</h4>
<p>In development, there are many ways to get a job done. There is no ultimate right and wrong answer but there are tried and tested methods that can help. As a developer, we should be able to accept that others may have a better way of doing something. If this is the case we need to be mature enough to accept that this is the case. When writing code this could take the form of a code review. If the reviewer points out an are that can change, then the reviewer and the developer can help to come up with something together. There may even the the transfer of new knowledge as well.</p>
<p>Too many developers feel their solution is the best possible way to do something or refuse to change the code if something better is pointed out to them. The ability to do the best job possible means we need to be constantly learning as developers. I do not know of a single developer who can be confident they know <strong>everything</strong> (queue jokes).</p>
<p>In order to do our best we must continually look at better ways of doing things. This could require reading blog posts, going to conferences or reading books etc. Not only will it benefit us, but it may also benefit our team as well.</p>
<h4>6. Ability to communicate</h4>
<p>Have you ever seen a sports team that don&rsquo;t communicate? They are effectively a bunch of individuals and they could crumble. Why should we communicate as a development team? Creating the best solution, in order to learn from each other and to communicate issues )or successes) are a few of the reasons. This to me is a prerequisite skill for development. When I interview developers, part of the exercise is to pair program with them. This tests how effective they are at communicating with me. This is just as important as how good their code is.</p>
<p>If i was able to work with more developers with the skills (attitude) as these then I don&rsquo;t think I could be in a better environment. I have one final question though &ndash; does such a perfect environment exist?</p>
</blockquote>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/15/easy-http-not-just-a-catchy-name/">Easy HTTP–not Just a Catchy Name</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-15T00:00:00+01:00" pubdate data-updated="true">Jul 15<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was recently referred to <a href="http://nuget.org/List/Packages/EasyHttp" target="_blank">EasyHTTP</a> by it&rsquo;s creator, <a href="http://twitter.com/hhariri" target="_blank">Hadi Hariri</a>. Hadi was looking at some code I had sent him regarding my work with the <a href="http://jetbrains.com/teamcity" target="_blank">TeamCity</a> REST API and thought that things could be a little easier and less verbose.</p>
<script src="https://gist.github.com/13bd7e958c74e45280f7.js"></script>
<p>In summary my application creates a new HttpWebRequest passing in the request type as a magic string. It opens a stream to read the JSON response and that JSON is then de-serialised to an entity. It was very messy. In order to call this class from my application I would have had to do the follow:</p>
<script src="https://gist.github.com/dde8df43b79f7200c517.js"></script>
<p>There is absolutely no mention of whether the request was a GET never mind a PUT or a DELETE. This is where EasyHTTP came in for me.</p>
<script src="https://gist.github.com/bfef5d881c07f748eca5.js"></script>
<p>I was able to make a generic method for a GET request. This method takes a url and a type and with the help of <a href="http://jsonfx.net/" target="_blank">JsonFx</a>, de-serialises the response back to the requested type. THis was a great way to take the hassle out of my old code where I was creating a Url, calling a request and then de-serialising it. The code in the calling class now looks as follows:</p>
<script src="https://gist.github.com/9ef7d6c027f865b7a8cc.js"></script>
<p>I was originally using the <a href="http://james.newtonking.com/pages/json-net.aspx" target="_blank">Newtonsoft JSON library</a> for my de-serialising my JSON back to types and to do that I had to decorate the properties with code similar to the following:</p>
<p>[JsonProperty(PropertyName = &#8220;id&#8221;)]<br /> public string Id {get; set;}</p>
<p>This would effectively map a piece of JSON to a property that was not named <strong>exactly</strong> the same. EasyHTTP took care of this for me as well. To quote Hadi, EasyHTTP handles mapping as follows:</p>
<p><em>&ldquo;For mapping properties, it handles camelcase, lowercase and a bunch of other conventions. You can also specify explicitly&rdquo;</em></p>
<p>Using EasyHTTP, I was able to cut at least 2 lines of code per method in the client code. I was also able to delete an attribute that was present on <strong>all properties in the entities</strong> in a little bit of work.</p>
<p>The added distinction of creating the notion of GETs, PUTs and DELETE calls from each other mean that my class can be extended much easier. Hadi has written a post on EasyHTTP on <a href="http://hadihariri.com/2011/01/16/easyhttp/" target="_blank">his blog</a>. I would strongly suggest reading this and discovering if you can use this application in place of old HttpWebRequest calls. Its cleaner and helps to make code a little bit more DRY. My thanks to Hadi (and any contributors there may be) for making my work in this area a little easier!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/11/iis-rewrite-tool-the-pain-of-a-simple-rule-change/">IIS Rewrite Tool – the Pain of a Simple Rule Change</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-11T00:00:00+01:00" pubdate data-updated="true">Jul 11<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I had a real pain point with the <a href="http://www.iis.net/download/urlrewrite" target="_blank">IIS Rewrite tool</a> today. I wanted to take an out of the box canonical rewrite rule and then modify it slightly to fit my own scenario. This tool is very easy to setup simple, out of the box rules &ndash; e.g. in order to get a simple canonical url rewrite (<a href="http://test.com">http://test.com</a> to redirect to <a href="http://www.test.com">http://www.test.com</a> then we would do as follows:</p>
<p><a href="http://paulstack.co.uk/blog/images/image_27.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border-width: 0px;" title="image" src="http://paulstack.co.uk/blog/images/image_thumb_25.png" border="0" alt="image" width="250" height="168" /></a></p>
<p>You then enter the primary host name &ndash; in my case it is <a href="http://www.test.com">www.test.com</a><a href="http://paulstack.co.uk/blog/images/image_28.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border-width: 0px;" title="image" src="http://paulstack.co.uk/blog/images/image_thumb_26.png" border="0" alt="image" width="244" height="153" /></a></p>
<p>That is it! The rule is now set up &ndash; pretty easy eh! This will redirect any request that isn&#8217;t http://www.test.com to become http://www.test.com. The following code is added to the web.config file in order to make this work:</p>
<script src="https://gist.github.com/479580648e7a468780f7.js"></script>
<p>So this wasn&rsquo;t quite right for my setup. I have a main URL that sits with the load balancer &ndash; lets say that is <a href="http://www.test.com">www.test.com</a> <strong>but</strong> I have individual URLs associated with the individual servers lets say an example is <a href="http://server1.internal-test.com">http://server1.internal-test.com</a>. I use individual server URLs for server monitoring &ndash; <a href="http://www.pingdom.com/" target="_blank">Pingdom</a> will constantly hit a specific page on the individual server to test for uptime. The canonical rule I have listed above will redirect the individual URL to the load balanced URL so I had to try and change the built in rule. Firstly I tried to do this via the web.config and adding my own lines. <strong>This did not work at all</strong>. I could find little documentation about how the rule is constructed so I was basically just &#8220;hacking&#8221; the rule to try to get it to work.</p>
<p>Then I went and used the built-in editor for the IIS rewrite tool. When I seen the list of rules I double clicked on the rule and got the following screen:</p>
<p><a href="http://paulstack.co.uk/blog/images/image_29.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border: 0px;" title="image" src="http://paulstack.co.uk/blog/images/image_thumb_27.png" border="0" alt="image" width="224" height="244" /></a></p>
<p>This is where I finally got my editing correct. I had to add a condition to list -</p>
<p><a href="http://paulstack.co.uk/blog/images/image_30.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border: 0px;" title="image" src="http://paulstack.co.uk/blog/images/image_thumb_28.png" border="0" alt="image" width="244" height="162" /></a></p>
<p>This did not offer my any type of drop down list for the different options I had for condition input &ndash; as you can see it is currently selected as {QUERY_STRING}. I didn&rsquo;t realise I had to change this. But once I had figured this out I changed it to look as follows:</p>
<p><a href="http://paulstack.co.uk/blog/images/image_31.png"><img style="background-image: none; padding-left: 0px; padding-right: 0px; display: block; float: none; margin-left: auto; margin-right: auto; padding-top: 0px; border: 0px;" title="image" src="http://paulstack.co.uk/blog/images/image_thumb_29.png" border="0" alt="image" width="244" height="162" /></a></p>
<p>This was the correct rule &ndash; it says in pseudo terms &ndash; if the URL does not match this format then perform the redirect to the canonical host. This left me with the following web.config entry</p>
<script src="https://gist.github.com/0b44fed10f6ad782fd76.js"></script>
<p>&nbsp;</p>
<p>This was way too easy to mess up. I would love there to be a way to test my rules in an actual scenario &ndash; a sample application that I could pass requests to and see what the response would be. I hope you don&rsquo;t fall into this rewrite rule trap! Please, IIS team, make it easier to test the rules that I have created.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/06/considerations-when-choosing-hardware-for-ci/">Considerations When Choosing Hardware for CI</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-06T00:00:00+01:00" pubdate data-updated="true">Jul 6<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post is the second post in a series on how CI will help a development team. The first post talks about the <a href="http://paulstack.co.uk/blog/post/How-to-get-started-with-CI.aspx" target="_blank">benefits that CI will bring to the team</a>. (CI = continuous integration)</p>
<p>So you have decided to try and introduce CI into your team? Good choice! This can be a pretty tough time for you. You will need to justify any cost and infrastructure required and you <strong>may</strong> face questions about the choices you make. You should not let implementation of CI impact your day to day role or the company may question where your time is being spent. CI should be quick and easy to get running and then projects be moved to it over a period of time.</p>
<p>Below are some of the hardware options to consider when introducing a CI environment to a team/company:</p>
<h5>Server</h5>
<p>If you manage to get yourself a full server setup for your first CI implementation then I am very jealous! Servers cost money to buy, setup and maintain so you have either done a great job of selling the benefits or your company have really bought into the entire concept. Or both! Good work!</p>
<h5>Spare Development Machine</h5>
<p>If you can&rsquo;t get a server and there is a small budget available then I would suggest getting yourself a development standard machine to start using. This only needs access to the network and source control. IF there is 0 budget available but you have an old development lying spare then use that instead. This will be plenty powerful enough to run CI tooling and is a common starting point.</p>
<h5>Virtual Machine</h5>
<p>If you can&rsquo;t get a server or a physical development machine then don&rsquo;t worry. The battle is not lost here. You can run a VM somewhere (testing server maybe) that will act as a CI server. Of course this will not be hugely powerful, but it is perfectly acceptable to start with this. This is actually all I was able to get by my company. It was cheap (existing infrastructure) and fast to setup (they have a standard way of deploying VMs).</p>
<h5>Local CI server</h5>
<p>This is my least preferred option. But if there is nothing else you have access to then it will act as a decent starting point. The trouble with running a CI server locally is that the machine may have all the dependencies installed (VS, SDKs etc.) and the process may be able to find any references that would be classed as &ldquo;missing&rdquo; on other infrastructure, from the GAC. This could result is false positives when running builds. This can then lead to bum deployments where files or references are missing that can cause hassle for your application.</p>
<h4>So how do I choose one?</h4>
<p>A lot of the decision will come down to what you actually want to do with it. Lets think of the scenario 30 developers checking in 5 times a day and there is a version control trigger to build on check in then of course we need something that&#8217;s powerful in order to process these queued builds. The other implication here &ndash; build time &ndash; but we will talk about that later. It would not be feasible for a local machine to be doing this amount of processing as this would effectively cut your development time. But if you had 2 developers who were doing only a few check ins a day then a less powerful machine is viable.</p>
<p>The tip here is to think about your current setup &ndash; good VCS habits mean multiple check ins and lots of developers mean higher spec machine is needed &ndash; in this case a VM or local machine may not be viable.</p>
<p>DVCS (git or Hg) can mean less pushes to main repo by developers and less builds required. Thus the local machine or VM could be viable.</p>
<p>Regardless of which option you take, remember the golden rule. <strong>CI servers should be as free of installed dependencies as possible in order to mimic the live environments. </strong>There will be a later post to talk about installed dependencies.</p>
<p>This article has tried to point out some of the infrastructure choices that we have when initially introducing CI to a tam. It is not an exhaustive list but it is the options I had when I have setup my own environments. If you feel any others should be added then please leave comment and I will update the list.</p>
<p>The next post will talk about the different options available for CI tooling and how to choose the correct tool for you.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/07/04/satisfyr-useful-little-addition-to-my-testing/">Satisfyr – Useful Little Addition to My Testing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-07-04T00:00:00+01:00" pubdate data-updated="true">Jul 4<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I use a tool called <a href="http://satisfyr.codeplex.com/" target="_blank">Satisfyr</a>. This tool helps me to keep to the 1 assert per test rule. It is a way to perform lambda-based assertions from within tests. It is written by <a href="http://twitter.com/kzu">Daniel Cazzulino</a> (developer of World of VS and Moq to name a few things).</p>
<p>I use Satisfyr when I am testing translations between DTO and Business objects that go through an automapper layer. This allows me to turn this:</p>
<script src="https://gist.github.com/00f39983d7dba985c3bf.js"></script>
<p>into this:</p>
<script src="https://gist.github.com/9b06319c46c5add9f1ee.js"></script>
<p>Its just syntactical sugar but it helps me to assert that an object is correct - this includes its properties etc. Hope it helps.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/06/30/mocks-stubs-a-thing-of-the-past/">Mocks & Stubs–a Thing of the Past?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-06-30T00:00:00+01:00" pubdate data-updated="true">Jun 30<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of my favourite new tools to come across in 2011 is <a href="http://nsubstitute.github.com/" target="_blank">NSubstitute</a>. This a is friendly substitution framework for .net. This will allow me to use these substitutes in place of mocks and stubs. Traditionally I use a mocking framework that requires the use of mocks and stubs. Unfortunately, this type of tool has now become a bit of a hindrance for me. The code that is written to assert behaviour has happened seems complex and is not instantly readable for junior developers. Now this isn&rsquo;t a tool bashing exercise &ndash; this post is to demonstrate that this tool (NSubstitute) has effectively made me see the complexity of my tests. It has made me think about being more expressive in my intent. Its not about the tool itself &ndash; its about the concept behind it.</p>
<p>On the commencement of a new project, i tried to show some developers NSubstitute. They liked it &ndash; they said on first look it was easy to read test code. I suggested they try it for the new project as it was brand new and had 0 test count. I was immediately shot down due to an apparent &ldquo;learning curve&rdquo; and &ldquo;sticking with what they know&rdquo;. I understand the learning curve part &ndash; learning a new tool is potentially tough as its a real shift in what they know. The apathy of sticking with what they knew really saddens me. If I had this level of apathy, I&rsquo;d still be working with ASP.NET webforms 2.0 and still not unit testing like I was doing 7 years ago. We should all want to push ourselves a little and move outside our comfort zone in order to mature as professionals. Its effectively how we grow, learn and get better at what we do.</p>
<p>I can understand why a developer would not what to change to a new tool when working in an established project. It would be like a rewrite of a section of the project. It would also take time and money to change. But when it is a brand new project with no current toolset what is the issue? Seems a little strange to me.</p>
<p>From my investigations about this topic of mocks and stubs vs. fakes / substitutes, I have seen that there is a real lack of understanding of the differences between mocks and stubs. This article will not talk about the differences &ndash; <a href="http://martinfowler.com/aboutMe.html" target="_blank">Martin Fowler</a> has already done this in his article <a href="http://martinfowler.com/articles/mocksArentStubs.html" target="_blank">Mocks aren&rsquo;t stubs</a> and there is no way I could do it the justice he has. This has really led me to the question <em>do we really need to care about the differences of mocks and stubs when we have this level of complexity in our tests?.</em> As a developer who tries to push testing to a team, all I want to do is to take an object or a class and test that some logic or behaviour has happened and I get the correct result. We <span style="text-decoration: line-through;">don&rsquo;t want to</span> shouldn&rsquo;t make this difficult for ourselves by trying to decide if the object or class that we want should be a mock or a stub.</p>
<p>I have heard of people who get this concept so mixed up that they try and verify all expectations against stubs so they get passing unit tests when this is of course not correct. This is to show sample of implementation of that test.</p>
<script src="http://gist.github.com/a618e24f7a6967b730e2.js"></script>
<p>This shows a test with mocking and stubbing to check that specific behaviour has happened</p>
<script src="http://gist.github.com/192394caae6914998a12.js"></script>
<p>The same behaviour using substitutes / fakes to demonstrate how much easier it can be without the layer of complexity (written by <a href="http://twitter.com/davetchepak">Dave Tchepak</a> from NSubstitute). Dave did point out that other tools can drive this expressive type of test and also he could write complex looking tests with NSubstitute as well.</p>
<script src="https://gist.github.com/1056347.js"></script>
<p>I&rsquo;m not the first developer to talk about this topic and I&rsquo;m certainly not the last. I think it&rsquo;s a topic that requires buy in/ backing from a host of developers who lead the way. When talking about this on twitter, <a href="http://hadihariri.com/" target="_blank">Hadi Hariri</a> said the following:</p>
<p><em>&ldquo;People need to understand the difference between state and interaction testing, not stubs/mocks/fakes/dupes/blabla&rdquo;</em></p>
<p>This is very true! Let&rsquo;s remove this barrier of complexity in our tests and learn how to write better tests. It doesn&#8217;t matter which tool we use to do it. Join me in trying to get developers to take the plunge!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/6/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/4/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
<h1>Follow me on Twitter</h1>
<a href="https://twitter.com/stack72" class="twitter-follow-button" data-show-count="false" data-size="large" data-dnt="true">Follow @stack72</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
</section>


<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/11/09/living-in-a-post-cm-world/">Living in a Post Configuration Management Tooling World</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/28/devops-and-net-conference/">DevOps and .Net Conference</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/09/recommended-ops-books/">Recommended Ops Books</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/04/looking-for-a-new-role/">Looking for a New Role</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/01/28/it-recruitment-is-f-star-star-ked/">IT Recruitment Is F**ked</a>
      </li>
    
  </ul>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2015 - Paul Stack (@stack72) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
